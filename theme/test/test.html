<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>定制房</title>

    <link rel="stylesheet" href="../../css/public.css"/>
    <link rel="stylesheet" href="../../css/test.css"/>
</head>

<body>

<div id="input-box">
    <input id="input" type="text" placeholder="输入ab模拟数据" onclick="autoComplete.init()"/>
</div>
<div class="auto-hide" id="auto"> <!--自动完成div--> </div>

<script>
    var $=function(id){
        return 'string' == typeof id ? document.getElementById(id) : id;
    }

    var bind=function(object,fun){
        return function(){
            return fun.apply(object,arguments);
        }
    }

    function AutoComplete(obj,autoObj,arr){
        this.obj=$(obj);
        this.autoObj=$(autoObj);
        this.value_arr=arr;
        this.index=-1;
        this.search_value='';
    }
    AutoComplete.prototype={
        init:function(){
            this.autoObj.style.left = this.obj.offsetLeft + 'px';
            this.autoObj.style.top= this.obj.offsetTop + 'px';
            this.autoObj.style.width = this.obj.offsetWidth - 2 +'px';
        },
        deleteDiv:function(){
            while(this.autoObj.hasChildNodes()){
                this.autoObj.removeChild(this.autoObj.firstChild);
            }

            this.autoObj.className='auto-hide';
        },
        //设置值
        setValue:function(self){
            return function(){
                self.obj.value=this.seq;
                self.autoObj.className='auto-hide';
            }
        },

        //鼠标移动至div，使div高亮
        autoMouseover:function(self,div_index){
            return function(){
                self.index=div_index;
                var length = self.autoObj.children.length;

                for(var j=0;j<length;j++){
                    if(j != this.length){
                        self.autoObj.childNodes[j].className='lighten';
                    }else{
                        self.autoObj.childNodex[j].className='unlighten';
                    }
                }
            }
        }
    }
</script>
<script>
    var autoComplete=new AutoComplete('input','auto',['a','ab','abc']);
</script>
</body>
</html>